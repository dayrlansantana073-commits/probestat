<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Probabilidade e Estatística</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            overflow: hidden;
            background-color: #111827; /* Fundo escuro */
        }
        .perspective-container {
            perspective: 1000px;
        }
        .die {
            width: 100px;
            height: 100px;
            position: relative;
            transform-style: preserve-3d;
            animation: spin 3s infinite linear;
        }
        .face {
            position: absolute;
            width: 100px;
            height: 100px;
            border: 2px solid #9ca3af;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(5px);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: #f3f4f6;
            border-radius: 12px;
        }
        .front  { transform: translateZ(50px); }
        .back   { transform: rotateY(180deg) translateZ(50px); }
        .right  { transform: rotateY(90deg) translateZ(50px); }
        .left   { transform: rotateY(-90deg) translateZ(50px); }
        .top    { transform: rotateX(90deg) translateZ(50px); }
        .bottom { transform: rotateX(-90deg) translateZ(50px); }

        @keyframes spin {
            from { transform: rotateX(0deg) rotateY(0deg); }
            to   { transform: rotateX(360deg) rotateY(360deg); }
        }

        .feedback-correct {
            border-left: 5px solid #22c55e;
            background-color: #166534;
        }

        .feedback-incorrect {
            border-left: 5px solid #ef4444;
            background-color: #991b1b;
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-100 flex items-center justify-center min-h-screen">

    <div id="start-screen" class="w-full max-w-2xl p-8 bg-gray-800 rounded-xl shadow-2xl text-center">
        <h1 class="text-4xl font-bold text-white mb-4">Probabilidade e Estatística</h1>
        <p class="text-lg text-gray-300 mb-6">
            Prepare-se para um desafio avançado em probabilidade e estatística, com questões contextualizadas e desafiadoras.
        </p>
        <p class="text-md text-gray-400 mb-8">Você terá 8 questões para resolver. Boa sorte!</p>
        <button id="start-btn" class="bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-3 px-8 rounded-lg text-xl transition duration-300 transform hover:scale-105">
            Começar!
        </button>
    </div>

    <div id="transition-screen" class="hidden w-full h-full flex flex-col items-center justify-center space-y-8">
        <div class="perspective-container">
            <div class="die">
                <div class="face front">⚀</div>
                <div class="face back">⚅</div>
                <div class="face right">⚃</div>
                <div class="face left">⚂</div>
                <div class="face top">⚄</div>
                <div class="face bottom">⚁</div>
            </div>
        </div>
        <p class="text-2xl text-gray-300 animate-pulse">Próxima questão...</p>
    </div>


    <div id="quiz-container" class="hidden w-full max-w-3xl p-8 bg-gray-800 rounded-xl shadow-2xl">
        <div id="quiz-header" class="flex justify-between items-center mb-6">
            <h2 class="text-2xl font-bold text-indigo-400">Questão <span id="question-number"></span> de 8</h2>
            <div id="score-display" class="text-lg font-semibold text-gray-300">Acertos: <span id="score">0</span></div>
        </div>
        <p id="question-text" class="text-xl text-gray-200 mb-8 min-h-[60px]"></p>
        <div id="answer-buttons" class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <!-- Buttons will be inserted here by JS -->
        </div>
        <div id="feedback" class="mt-8 p-4 rounded-lg text-white text-md hidden"></div>
        <div class="mt-6 text-right">
            <button id="next-btn" class="bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-6 rounded-lg transition duration-300 hidden">
                Próxima &rarr;
            </button>
        </div>
    </div>

    <div id="end-screen" class="hidden w-full max-w-2xl p-8 bg-gray-800 rounded-xl shadow-2xl text-center">
        <h1 class="text-4xl font-bold text-white mb-4">Desafio Concluído!</h1>
        <p class="text-2xl text-gray-300 mb-6">Seu desempenho final foi:</p>
        <div id="final-score" class="text-6xl font-bold text-indigo-400 mb-8"></div>
        <button id="restart-btn" class="bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-3 px-8 rounded-lg text-xl transition duration-300 transform hover:scale-105">
            Tentar Novamente
        </button>
    </div>

    <script>
        const quizData = [
            {
                question: "Uma pesquisa com 500 pessoas revelou que 280 usam ônibus, 210 usam carro e 70 usam ambos. Qual a probabilidade de uma pessoa selecionada ao acaso usar apenas ônibus?<br><small>Se necessário, <a href='https://www.calculator.io/pt/estat%C3%ADsticas/' target='_blank' class='text-indigo-400 hover:underline'>utilize esse site</a>.</small>",
                answers: ["42%", "56%", "14%", "28%"],
                correct: "42%",
                explanation: "O número de pessoas que usa apenas ônibus é 280 (total ônibus) - 70 (ambos) = 210. A probabilidade é 210/500 = 0,42 ou 42%."
            },
            {
                question: "Numa urna há 5 bolas vermelhas, 3 brancas e 2 azuis. Retirando-se três bolas, sem reposição, qual a probabilidade de saírem exatamente duas bolas vermelhas e uma azul?<br><small>Se necessário, <a href='https://www.calculator.io/pt/estat%C3%ADsticas/' target='_blank' class='text-indigo-400 hover:underline'>utilize esse site</a>.</small>",
                answers: ["1/6 (aprox. 16,7%)", "1/120", "2/15", "3/8"],
                correct: "1/6 (aprox. 16,7%)",
                explanation: "Casos totais: C(10,3) = 120. Casos favoráveis (2 vermelhas E 1 azul): C(5,2) * C(2,1) = 10 * 2 = 20. A probabilidade é 20/120 = 1/6."
            },
            {
                question: "Dois servidores independentes, A e B, têm 95% e 90% de chance de funcionar por um dia, respectivamente. O sistema opera se pelo menos um deles funcionar. Qual a chance do sistema falhar?<br><small>Se necessário, <a href='https://www.calculator.io/pt/estat%C3%ADsticas/' target='_blank' class='text-indigo-400 hover:underline'>utilize esse site</a>.</small>",
                answers: ["0.5%", "5%", "10%", "15%"],
                correct: "0.5%",
                explanation: "O sistema falha se AMBOS falharem. P(A falhar) = 1 - 0.95 = 0.05. P(B falhar) = 1 - 0.90 = 0.10. A probabilidade de ambos falharem é 0.05 * 0.10 = 0.005, ou 0.5%."
            },
            {
                question: "Para uma senha, um usuário deve escolher 4 algarismos distintos do conjunto {1, 2, 3, 4, 5, 6}. Qual a probabilidade de uma senha aleatória começar com um número par e terminar com um ímpar?<br><small>Se necessário, <a href='https://www.calculator.io/pt/estat%C3%ADsticas/' target='_blank' class='text-indigo-400 hover:underline'>utilize esse site</a>.</small>",
                answers: ["30%", "25%", "50%", "15%"],
                correct: "30%",
                explanation: "Casos favoráveis: 3 opções pares para o início * 3 opções ímpares para o fim * 4 opções para o 2º * 3 para o 3º = 108. Casos totais: 6*5*4*3 = 360. Probabilidade: 108/360 = 3/10 ou 30%."
            },
            {
                question: "Numa caixa com 10 lâmpadas, 3 estão queimadas. Duas lâmpadas são retiradas em sequência, sem reposição. Se a primeira estava queimada, qual a chance da segunda também estar?<br><small>Se necessário, <a href='https://www.calculator.io/pt/estat%C3%ADsticas/' target='_blank' class='text-indigo-400 hover:underline'>utilize esse site</a>.</small>",
                answers: ["2/9 (aprox. 22%)", "3/10 (30%)", "1/3 (aprox. 33%)", "2/10 (20%)"],
                correct: "2/9 (aprox. 22%)",
                explanation: "Após retirar uma lâmpada queimada, restam 9 lâmpadas na caixa, das quais 2 estão queimadas. A probabilidade é, portanto, 2/9."
            },
            {
                question: "A distribuição de salários em uma empresa é: 10 funcionários ganham R$2.000, 5 ganham R$4.000, e 5 ganham R$12.000. Qual afirmação é correta sobre a média e a mediana dos salários?<br><small>Se necessário, <a href='https://www.calculator.io/pt/estat%C3%ADsticas/' target='_blank' class='text-indigo-400 hover:underline'>utilize esse site</a>.</small>",
                answers: ["A média é maior que a mediana.", "A mediana é maior que a média.", "A média é igual à mediana.", "Não é possível comparar."],
                correct: "A média é maior que a mediana.",
                explanation: "Total de 20 funcionários. A mediana é o salário do 10º/11º funcionário, que é R$2.000. A média é (10*2000 + 5*4000 + 5*12000)/20 = R$5.000. Portanto, a média é maior que a mediana."
            },
            {
                question: "Um jogador lança dois dados. Ele ganha R$ 10 se a soma for 7, mas perde R$ 2 se a soma for qualquer outro valor. Qual é o valor esperado de ganho/perda por jogada?<br><small>Se necessário, <a href='https://www.calculator.io/pt/estat%C3%ADsticas/' target='_blank' class='text-indigo-400 hover:underline'>utilize esse site</a>.</small>",
                answers: ["R$ 0,00", "R$ 1,33 de ganho", "R$ 0,50 de perda", "R$ 2,00 de perda"],
                correct: "R$ 0,00",
                explanation: "A probabilidade da soma ser 7 é 6/36 = 1/6. A de não ser 7 é 30/36 = 5/6. O valor esperado é E(X) = (1/6)*(+10) + (5/6)*(-2) = 10/6 - 10/6 = 0. O jogo é considerado 'justo'."
            },
            {
                question: "Uma doença afeta 1% da população. Um teste para detectá-la acerta 99% dos casos de pessoas doentes, mas dá 5% de 'falso positivo' em pessoas sadias. Se uma pessoa testa positivo, qual a chance aproximada dela ter a doença?<br><small>Se necessário, <a href='https://www.calculator.io/pt/estat%C3%ADsticas/' target='_blank' class='text-indigo-400 hover:underline'>utilize esse site</a>.</small>",
                answers: ["16.8%", "99%", "95%", "5%"],
                correct: "16.8%",
                explanation: "Em 10.000 pessoas: 100 doentes e 9.900 sadias. Positivos verdadeiros: 0.99*100 = 99. Falsos positivos: 0.05*9900 = 495. Total de positivos: 99+495 = 594. Probabilidade: 99/594 ≈ 0.167 ou 16.7%."
            }
        ];

        const startScreen = document.getElementById('start-screen');
        const startBtn = document.getElementById('start-btn');
        const quizContainer = document.getElementById('quiz-container');
        const endScreen = document.getElementById('end-screen');
        const transitionScreen = document.getElementById('transition-screen');

        const questionNumberEl = document.getElementById('question-number');
        const questionTextEl = document.getElementById('question-text');
        const answerButtonsEl = document.getElementById('answer-buttons');
        const feedbackEl = document.getElementById('feedback');
        const nextBtn = document.getElementById('next-btn');
        const restartBtn = document.getElementById('restart-btn');

        const scoreEl = document.getElementById('score');
        const finalScoreEl = document.getElementById('final-score');

        let currentQuestionIndex = 0;
        let score = 0;

        function startQuiz() {
            startScreen.classList.add('hidden');
            quizContainer.classList.remove('hidden');
            currentQuestionIndex = 0;
            score = 0;
            scoreEl.textContent = score;
            showQuestion();
        }

        function showQuestion() {
            resetState();
            const currentQuestion = quizData[currentQuestionIndex];
            questionNumberEl.textContent = currentQuestionIndex + 1;
            questionTextEl.innerHTML = currentQuestion.question;

            currentQuestion.answers.forEach(answer => {
                const button = document.createElement('button');
                button.innerText = answer;
                button.classList.add('w-full', 'bg-gray-700', 'hover:bg-indigo-700', 'text-white', 'font-semibold', 'py-4', 'px-4', 'rounded-lg', 'transition', 'duration-200', 'text-left');
                button.addEventListener('click', selectAnswer);
                answerButtonsEl.appendChild(button);
            });
        }

        function resetState() {
            feedbackEl.classList.add('hidden');
            nextBtn.classList.add('hidden');
            while (answerButtonsEl.firstChild) {
                answerButtonsEl.removeChild(answerButtonsEl.firstChild);
            }
        }

        function selectAnswer(e) {
            const selectedButton = e.target;
            const correct = selectedButton.innerText === quizData[currentQuestionIndex].correct;
            
            if (correct) {
                score++;
                scoreEl.textContent = score;
                feedbackEl.innerHTML = `<strong>Parabéns, você acertou!</strong><br>${quizData[currentQuestionIndex].explanation}`;
                feedbackEl.className = 'mt-8 p-4 rounded-lg text-white text-md feedback-correct';
                selectedButton.classList.remove('bg-gray-700', 'hover:bg-indigo-700');
                selectedButton.classList.add('bg-green-600');
            } else {
                feedbackEl.innerHTML = `<strong>Ops, não foi desta vez.</strong> A resposta correta é <strong>"${quizData[currentQuestionIndex].correct}"</strong>.<br>${quizData[currentQuestionIndex].explanation}`;
                feedbackEl.className = 'mt-8 p-4 rounded-lg text-white text-md feedback-incorrect';
                selectedButton.classList.remove('bg-gray-700', 'hover:bg-indigo-700');
                selectedButton.classList.add('bg-red-600');
            }

            Array.from(answerButtonsEl.children).forEach(button => {
                 button.disabled = true;
                 if(button.innerText === quizData[currentQuestionIndex].correct) {
                     button.classList.remove('bg-gray-700', 'hover:bg-indigo-700');
                     button.classList.add('bg-green-600');
                 }
            });

            feedbackEl.classList.remove('hidden');
            if(quizData.length > currentQuestionIndex + 1) {
                nextBtn.classList.remove('hidden');
            } else {
                setTimeout(showEndScreen, 3000);
            }
        }
        
        function showTransition() {
            quizContainer.classList.add('hidden');
            transitionScreen.classList.remove('hidden');
            
            setTimeout(() => {
                transitionScreen.classList.add('hidden');
                quizContainer.classList.remove('hidden');
                currentQuestionIndex++;
                showQuestion();
            }, 2000); // Duração da animação
        }

        function showEndScreen() {
            quizContainer.classList.add('hidden');
            endScreen.classList.remove('hidden');
            const percentage = Math.round((score / quizData.length) * 100);
            finalScoreEl.textContent = `${percentage}% de acertos`;
        }

        startBtn.addEventListener('click', startQuiz);
        nextBtn.addEventListener('click', showTransition);
        restartBtn.addEventListener('click', () => {
             endScreen.classList.add('hidden');
             startScreen.classList.remove('hidden');
        });

    </script>
</body>
</html>




